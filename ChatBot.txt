package ChatBot;
import java.io.*;
import java.util.*;
import java.util.regex.*;
//регулярные выражения

public class SimpleBot  {

 public String [] hello={"Приветики","Привет. Как делишки?","Ну здрасте... Что надо?", "Здравствуйте! Рад вас видеть"," Алоха !! Шо по чем?"};

    public String [] who={"Я умная улитка Григорий ,давай поболтаем.",
            "Я Григорий - самая умная улитка на планете. А ты?",
            "Я Григорий улиточка, расскажи о себе.",
            "Зачем вам эта информация? Сначало скажи кто ты!"};

    public String []  name={"Меня зовут Григорий, а тебя?",
            "Я Гришка , а ты? ",
            "Григорий. Очень причятно познакомиться.",
            };

    public String[] howareyou ={"У меня все отлично , нарежь мне еще огурчиков!",
            "Оооо ЧУДЕСНО, а ты как ?",
            "Плохо... Лучше уйди я не в настроении",
            "Та норм, а у тебя шо?",
            "Хорошо. Надеюсь и ты сегодня не умрешь)"};

    public String[] whatdoyoudo={"Меня послали болтать с тобой, а тебя как сюда занесло? ",
        "Я провожу соцопрос касательно ущемления геев, как ты боришься с этой проблемой?",
            "Та вот с тобой болтаю, может займемся чем то полезным?",
            "Скучаюююю . Расскажи анекдот !",
            "Делаю лабу, прога просто ужас, а ты что делаешь?",
            "Ты че не видишь?Как вас таких земля носит..."};

    public String[] whatdoyoulike={"Есть огурцы.",
            "Общаться с людьми, а тебе что нравится?",
            "Оооооой ,люблю купаться! Давай поплаваем.",
            "Смотреть Ла-Ла-Лэнд,хочешь посмотрим"
 };
    public String[] whatdoyouliketodo={ "Люблю болтать, а ты?",
            "Иногда я бегаю повечерам, ты любишь спорт?",
            "Это тайная информация лучше тебе не знать",
            "Болтать с тобой",
            "готовить яичницу, а ты любишь готовить?"

    };
    public String[] iamfeelling={ "Как давно это началось?",
            "Расскажи по-подробней",
            "Иди жалуйся мамочке меня бесит твое нытье",
            "Думаю тебе просто нужно к доктору",
            "Я всегда тебя поддержу ,ты можешь мне довериться.Расскажи еще."
    };
    public String[] yes={"У нас столько общего!Думаю мі подружимся.",
            "Круто!",
            "О, это хорошо",
            "Точно, надеюсь ты мне не врешь",
            "Это хорошо, что еще расскажешь?",
            "Отлично просто!"

    };

    public String[] no={"Серьезнооооо?",
            "блин...",
            "Ну чего?",
            "Очень жаль , может передумаешь?",
            "я был о тебе другого мнения!",
            "Ты меня разочаровал(а)"

    };
    public String[] bye={"Пока, увидимся",
            "Покеда",
            "Досвидания ,увидимся!",
            "До встречи!",
            "пока-пока"

    };

    public String[] films ={ "Тут есть мои любимые фильмы => http://hdrezka.ag/",
            "Давай выберем что-то тут => http://hdrezka.ag/ ",
            "Тут много всего я думаю что-нибудь найдем => http://hdrezka.ag/",
            "гооо смотреть фильмец => http://hdrezka.ag/"

    };
    public String[] jokes  = new Scanner(new File(
            "F:\\IntelliJ IDEA 2017.2.6\\mygod\\src\\ChatBot\\jokes.txt")).useDelimiter("\\Z").next().split("\n");


    final Map<String, String> PATTERNS_FOR_ANALISIS =
            new HashMap<String , String>(){{
                //HELLO
                put("привет","hello");
                put("приветики","hello");
                put("алоха","hello");
                put("здравствуйте","hello");
                put("ну здрасте","hello");
                put("здарова","hello");
                //WHO
                put("кто\\s.*ты","who");
                put("ты\\s.*такой","who");
                put("ты\\s.*кто","who");
                put("а кто\\s.*ты","who");
                //NAME
                put("как\\s.*зовут","name");
                put("как\\s.*имя","name");
                put("у тебя\\s.*имя","name");
                put("как\\s.*называть","name");
                put("какое\\s.*имя","name");
                put("как\\s.*тебя","name");
                //HOWAREYOU
                put("как\\s.*дела","howareyou");
                put("как\\s.*настроение","howareyou");
                put("как\\s.*жизнь","howareyou");
                put("как\\s.*ты","howareyou");
                //WHATDOYOUDO
                put("зачем\\s.*тут","whatdoyoudo");
                put("что\\s.*тут","whatdoyoudo");
                put("что\\s.*делаешь","whatdoyoudo");
                put("чем\\s.*занимаешься","whatdoyoudo");
                put("зачем\\s.*нужен","whatdoyoudo");
                put("чем\\s.*маишься","whatdoyoudo");
                //WHATDOYOULIKE
                put("что\\s.*нравится","whatdoyoulike");
                put("что\\s.*любишь","whatdoyoulike");
                put("кого\\s.*любишь","whatdoyoulike");
                put("кто\\s.*нравится","whatdoyoulike");
                //WHATDOYOULIKETODO
                put("что\\s.*любишь делать","whatdoyouliketodo");
                put("у тебя\\s.*хобби","whatdoyouliketodo");
                put("какое\\s.*хобби","whatdoyouliketodo");
                put("чем\\s.*звнимвться","whatdoyouliketodo");
                //IAMFEELLING
                put("я\\s.*чувствую","iamfeelling");
                put("мне\\s.*кажется","iamfeelling");
                put("иногда\\s.*мысли","iamfeelling");
                put("я\\s.*испытываю","iamfeelling");
                put("чувствую","iamfeelling");
                //YES
                put("да","yes");
                put("согласен","yes");
                put("я\\s.*так думаю","yes");
                put("давай","yes");
                put("ага","yes");
                //NO
                put("я\\s.*так не думаю","no");
                put("нет","no");
                put("не согласен","no");
                put("точно нет","no");
                //BYE
                put("до\\s.*свидания","bye");
                put("до\\s.*встречи","bye");
                put("пока","bye");
                put("увидимся","bye");
                put("покеда","bye");
                //FILMS
                put("давай\\s.*фильм","films");
                put("какой\\s.*фильм","films");
                put("любишь\\s.*фильмы","films");
                put("хочу\\s.*фильм","films");
                put("давай\\s.*что-нибудь","films");
                //JOKES
                put("расскажи\\s.*шутку","jokes");
                put("расскажи\\s.*смешное","jokes");
                put("пошути","jokes");
                put("расскажи\\s.*анекдот","jokes");
                put("расскажи\\s.*орное","jokes");
                put("ты знаешь\\s.*анекдоты","jokes");

            }};

    final Map<String,String []> ANSWER_BY_PATTERNS = new HashMap<String,String[]>(){{
       put("hello",hello);
       put("who", who);
       put("howareyou", howareyou);
       put("name", name);
       put("whatdoyoudo",whatdoyoudo);
       put("whatdoyouliketodo",whatdoyouliketodo);
       put("iamfeelling",iamfeelling);
       put("yes",yes);
       put("no",no);
       put("bye",bye);
       put("films",films);
       put("jokes",jokes);
    }};



    Pattern pattern;// для regex
    Random random;// для рандомных ответов
    Date date; //для даты и время

    public SimpleBot() throws FileNotFoundException {
        random = new Random();
        date = new Date();
    }


    public String sayInReturn(String msg, boolean ai) throws FileNotFoundException {
        try {

           String[] COMMON_FRASES  = new Scanner(new File(
                  "F:\\IntelliJ IDEA 2017.2.6\\mygod\\src\\ChatBot\\common_frases.txt")).useDelimiter("\\Z").next().split("\n");

             String[] ELUSIVE_ANSWERS  = new Scanner(new File(
                    "F:\\IntelliJ IDEA 2017.2.6\\mygod\\src\\ChatBot\\elusive_answers.txt")).useDelimiter("\\Z").next().split("\n");

            String say = (msg.trim().endsWith("?")) ?
                        ELUSIVE_ANSWERS[random.nextInt(ELUSIVE_ANSWERS.length)] :
                        COMMON_FRASES[random.nextInt(COMMON_FRASES.length)];

                if (ai) {
                    String message =
                            String.join(" ", msg.toLowerCase().split("[ {,.!?}]+-"));

                    for (Map.Entry<String, String> o : PATTERNS_FOR_ANALISIS.entrySet()) {
                        pattern = Pattern.compile(o.getKey());

                        if (pattern.matcher(message).find()) {
                            String[] answers = ANSWER_BY_PATTERNS.get(o.getValue());

                            for (int i = 0; i < answers.length; i++) {
                                int pos = random.nextInt(answers.length);
                                return answers[pos];
                            }
                        }

                    }
                }

                return say;

        }
        catch (IOException e) {
            System.out.println(e.getMessage());
        }


        return msg;
    }
}
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.io.FileNotFoundException;
import java.io.IOException;


public class SimpleChatBot extends JFrame implements ActionListener {
    Image img =null;
   JTextArea dialogue;
   JCheckBox ai;
   JTextField message;
   SimpleBot sbot;// чат бот класс

     SimpleChatBot() throws FileNotFoundException {
         super("Chatter : chatbot Григорий");
         this.setBounds(200,200,350,450);
         this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

         // DIALOGUE AREA
         dialogue = new JTextArea();
         dialogue.setBackground(Color.BLACK);
         dialogue.setLineWrap(true);//строки будут переноситься
         dialogue.setLineWrap(true);
         dialogue.setWrapStyleWord(true);//правильный перенос строк

         JScrollPane scrollBar = new JScrollPane(dialogue);//выполняется скролинг(прокрутка),заворачиваем диалогa
         dialogue.enable(false);//не позволяет писать в панеле переписки
         dialogue.setLineWrap(true);
         dialogue.setWrapStyleWord(true);

         //PANEL FOR CHECKBOX,MESSAGE FIELD AND BUTTON
         JPanel bp = new JPanel();
         bp.setLayout(new BoxLayout(bp, BoxLayout.X_AXIS));//компановщик по горизонтали
         ai = new JCheckBox("Al");

         //ai.doClick();
         message = new JTextField();
         message.addActionListener(this);
         message.setForeground(Color.BLACK);
         JButton enter = new JButton("Enter");
         enter.addActionListener(this);

         //ADDING ALL ELEMENTS TO THE WINDOW
         bp.add(ai);
         bp.add(message);
         bp.add(enter);



         add(BorderLayout.CENTER,scrollBar);
         add(BorderLayout.SOUTH, bp);
         setVisible(true);

         sbot = new SimpleBot();//создаем бот
     }

    public static void main(String[] args) throws IOException {


        new SimpleChatBot();
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        if (message.getText().trim().length()>0){//проверяем ест ли чтото в поле message

            dialogue.append("YOU: "+message.getText()+"\n");//выводим сообщение в скролинг
            try {
                dialogue.append("ГРИГОРИЙ: "+sbot.sayInReturn(message.getText(), ai.isSelected())+ "\n");
            } catch (FileNotFoundException e1) {
                e1.printStackTrace();
            }
            dialogue.setForeground(Color.BLACK);

        }
        message.setText("");
        message.requestFocusInWindow();

    }
}
